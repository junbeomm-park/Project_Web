<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib prefix="tiles" uri="http://tiles.apache.org/tags-tiles" %>
<!DOCTYPE html>
<html lang="ko">
	<head>
	</head>
	<body>
	    <footer class="ftco-footer ftco-bg-dark ftco-section">
	      <div class="container">
	        <div class="row mb-5">
	          <div class="col-md">
	            <div class="ftco-footer-widget mb-4">
	              <h2 class="ftco-heading-2">tour place</h2>
	              <p> 시군구별 관광지 기후 지수<br/> 기상지수예보<br/> (식중독지수, 체감온도,자외선지수)<br/>동네예보 (기온,습도)<br/>여행 플래너 </p>
	              <ul class="ftco-footer-social list-unstyled float-md-left float-lft mt-5">
	                <li class="ftco-animate"><a href="#"><span class="icon-twitter"></span></a></li>
	                <li class="ftco-animate"><a href="#"><span class="icon-facebook"></span></a></li>
	                <li class="ftco-animate"><a href="#"><span class="icon-instagram"></span></a></li>
	              </ul>
	            </div>
	          </div>
	          <div class="col-md">
	            <div class="ftco-footer-widget mb-4 ml-md-5">
	              <h2 class="ftco-heading-2">Information</h2>
	              <ul class="list-unstyled">
	                <li><a href="#" class="py-2 d-block">About</a></li>
	                <li><a href="#" class="py-2 d-block">Tour</a></li>
	                <li><a href="#" class="py-2 d-block">Review</a></li>
	                <li><a href="#" class="py-2 d-block">Contact</a></li>
	                <li><a href="#" class="py-2 d-block">Planner</a></li>
	                
	              </ul>
	            </div>
	          </div>
	          <div class="col-md">
	             <div class="ftco-footer-widget mb-4">
	              <h2 class="ftco-heading-2">Customer Support</h2>
	              <ul class="list-unstyled">
	                <li><a href="#" class="py-2 d-block">FAQ</a></li>
	                <li><a href="#" class="py-2 d-block">How it works</a></li>
	                <li><a href="#" class="py-2 d-block">Contact Us</a></li>
	              </ul>
	            </div>
	          </div>
	          <div class="col-md">
	            <div class="ftco-footer-widget mb-4">
	            	<h2 class="ftco-heading-2">Have a Questions?</h2>
	            	<div class="block-23 mb-3">
		              <ul>
		                <li><span class="icon icon-map-marker"></span><span class="text">서울특별시 강남주 언주로 508, 14층<br/> (역삼동, 서울상록회관)</span></li>
		                <li><a href="#"><span class="icon icon-phone"></span><span class="text">1544-9001</span></a></li>
		                <li><a href="#"><span class="icon icon-envelope"></span><span class="text">1조@websemiproject.com</span></a></li>
		              </ul>
		            </div>
	            </div>
	          </div>
	        </div>
	        <div class="row">
	          <div class="col-md-12 text-center">
	
	            <p><%-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --%>
	 				Copyright &copy;<script>document.write(new Date().getFullYear());</script> 1조 화이팅 <i class="icon-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">준범</a>
	  				<%-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --%></p>
	          </div>
	        </div>
	      </div>
	    </footer>

		<!-- Main Script -->
	    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
		<script src="https://code.jquery.com/jquery-migrate-3.0.1.min.js" integrity="sha256-F0O1TmEa4I8N24nY0bya59eP6svWcshqX1uzwaWC4F4=" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js" integrity="sha512-ahmSZKApTDNd3gVuqL5TQ3MBTj8tL5p2tYV05Xxzcfu6/ecvt1A0j6tfudSGBVuteSoTRMqMljbfdU0g2eDNUA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.0/jquery.waypoints.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/stellar.js/0.6.2/jquery.stellar.min.js" integrity="sha512-PNXCBnFH9wShbV+mYnrfo0Gf3iSREgBWmYAoMIfc+Z83vVq3Nu4yxBk6j+BZ40ZIhtW3WlTQdBvW3AYLAnlgpA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js" integrity="sha512-IsNh5E3eYy3tr/JiX2Yx4vsCujtkhwl7SLqgnwLNgf04Hrt9BT9SXlLlZlWx+OK4ndzAoALhsMNcCmkggjZB1w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-animateNumber/0.0.14/jquery.animateNumber.min.js" integrity="sha512-WY7Piz2TwYjkLlgxw9DONwf5ixUOBnL3Go+FSdqRxhKlOqx9F+ee/JsablX84YBPLQzUPJsZvV88s8YOJ4S/UA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js" integrity="sha512-T/tUfKSV1bihCnd+MxKD0Hm1uBBroVYBOYSk1knyvQ9VyZJpc/ALb4P0r6ubwVPSGB2GvjeoMAJJImBG12TiaQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.1/owl.carousel.min.js" integrity="sha512-R5COAyFZ7B88RiuYmY3RPq1uXLFAmRQoGhNF5NU+HaaROvzZ773eLF1guAY8lHM0jNRwgFUVuHWbfPacHXbfDQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js" integrity="sha512-A7AYk1fGKX6S2SsHywmPkrnzTZHrgiVT7GcQkLGDe2ev0aWb8zejytzS8wjo7PGEXKqJOrjQ4oORtnimIRZBtw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<script src="https://cdn.jsdelivr.net/npm/scrollax@1.0.0/scrollax.min.js"></script>
		<script src="/tour/common/js/main.js"></script>
	</body>
	<script>
	(function(){
		$(function(){
			// calendar element 취득
			var calendarEl = $('#calendar')[0];
			// full-calendar 생성하기
			var calendar = new FullCalendar.Calendar(calendarEl, {
				expandRows: true, // 화면에 맞게 높이 재설정
				slotMinTime: '08:00', // Day 캘린더에서 시작 시간
				slotMaxTime: '20:00', // Day 캘린더에서 종료 시간
				// 해더에 표시할 툴바
				headerToolbar: {
					left: 'prev,next today',
					center: 'title',
					right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'
				},
				initialView: 'dayGridMonth', // 초기 로드 될때 보이는 캘린더 화면(기본 설정: 달)
				navLinks: true, // 날짜를 선택하면 Day 캘린더나 Week 캘린더로 링크
				editable: true, // 수정 가능 여부
				selectable: true, // 달력 일자 드래그 설정가능
				nowIndicator: true, // 현재 시간 마크
				dayMaxEvents: true, // 이벤트가 오버되면 높이 제한 (+more)
				locale: 'ko', // 한국어 설정
				select: function(arg) {
					insertModalOpen(arg);	//일자 클릭 시 모달 호출
			    },
			    eventClick: function(arg) {
					insertModalOpen(arg);	//이벤트 클릭 시 모달 호출
			    },
			 	eventChange: function(arg){
					//allDay true로 바꾸면 end가 없어서 만듬
					if(arg.event.end == null){
						var end = new Date();
						end.setDate(arg.event.start.getDate()+1);
						arg.event.setEnd(end);	
					}
			 	},
			 	eventDrop: function(arg){
			  		insertModalOpen(arg);		//이벤트 드래그드랍 시 모달 호출
			 	},
				eventResize: function(arg){
			  		insertModalOpen(arg);		//이벤트 사이즈 변경시(일정변경) 모달 호출
			 	},	
				// 테스트 이벤트
				events: [
					{
						title: 'All Day Event',
						start: '2021-09-01',
					},
					{
						groupId: 999,
						title: 'Test Event1',
						start: '2021-09-09T16:00:00'
					},
					{
						groupId: 999, // groupId가 같은 반복 이벤트 생성
						title: 'Test Event2',
						start: '2021-09-16T16:00:00'
					},
					{
						title: 'Click for Naver',
						url: 'https://www.naver.com/', // 클릭시 해당 url로 이동
						start: '2021-09-28'
					},
					{
						groupId: 'blueEvents', // groupId가 같으면 드래그할 때 같이 이동, 없으면 따로 이동 가능 
						daysOfWeek: [ '4' ],
						startTime: '10:45:00',
						endTime: '12:45:00',
						color: 'red'
				    },
				]
			});
			// 캘린더 랜더링
			calendar.render();
		});
		function insertModalOpen(arg){
			$("#calendarModal").modal("show");
		
			$("#addCalendar").on("click",function(){  // modal의 추가 버튼 클릭 시
                var content = $("#calendar_content").val();
                var start_date = $("#calendar_start_date").val();
                var end_date = $("#calendar_end_date").val();
                
                //내용 입력 여부 확인
                if(content == null || content == ""){
                    alert("내용을 입력하세요.");
                }else if(start_date == "" || end_date ==""){
                    alert("날짜를 입력하세요.");
                }else if(new Date(end_date)- new Date(start_date) < 0){ // date 타입으로 변경 후 확인
                    alert("종료일이 시작일보다 먼저입니다.");
                }else{ // 정상적인 입력 시
                    var obj = {
                        "title" : content,
                        "start" : start_date,
                        "end" : end_date
                    }//전송할 객체 생성
                    console.log(obj); //서버로 해당 객체를 전달해서 DB 연동 가능
                }
            });
        }
	})();
	</script>
</html>